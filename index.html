<!DOCTYPE html>
<html>
<head>
    <title>Redirecting...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>
<body>
    <script type="text/javascript">
        function isInstagramBrowser() {
            return /Instagram/.test(navigator.userAgent);
        }

        function redirectToExternal() {
            const targetUrl = "https://shop.beacons.ai/monetizewithai/9dcc5e41-4d53-45e4-9217-529bebb44b0f";
            
            if (isInstagramBrowser()) {
                // For Android, try to open in Chrome using intent
                if (/Android/.test(navigator.userAgent)) {
                    setTimeout(function() {
                        window.location.href = `intent://${targetUrl}#Intent;scheme=https;package=com.android.chrome;end`;
                    }, 1000); // Add a small delay to ensure the intent fires correctly
                } 
                // For iOS, use a delayed redirect
                else if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                    setTimeout(function() {
                        window.location.href = targetUrl;
                    }, 2000); // Slightly longer delay for iOS devices
                }
            } else {
                window.location.href = targetUrl;
            }
        }

        // Add event listener for beforeunload to handle Instagram's verification
        window.addEventListener('beforeunload', function(e) {
            e.preventDefault();
            e.returnValue = '';
        });

        // Ensure redirection attempts right after page load
        redirectToExternal();
    </script>
</body>
</html>
